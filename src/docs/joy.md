# 卿云烂兮

::: warning 注意
本方案基于宇浩拆分，为 25.5 键乱序单编、繁简通打方案。初始学习难度较大，请务必充分了解、分析、平衡其风险和收益后再决定是否学习使用。
:::

## 简介

卿云烂兮是宇浩输入法的**乱序单编**衍生方案。方案名取自《尚书大传》之「卿云烂兮，𫄙缦缦兮」。取码规则共两条：

1. 依次取第一、二、三、末字根对应的编码；
2. 不足四码时，输入一个补码，即末根读音。

::: info 公式化规则
所以，根据字根数量，有以下几种形式。设首根为 A，次根为 B，三根为 C，末根为 Z，补码为 z。

1. 单根字：Zz
2. 双根字：AZz
3. 三根字：ABZz
4. 多根字：ABCZ
:::

本方案的**补码**，是末根的读音首字母，**没有读音**则默认为 v。唯一的例外是高频`口`字根，虽然读音为 k，但当作没有读音处理。补码亦可看作成末根的小码。因此，本方案的字根既可视为单编码，也可视为双编码。

::: tip 卿云取码歌诀  

一二三末取字根　单根成字即自身  
双根便作首和末　三根首二同末存  
字根表中找编码　二十五键莫看岔  
依次填入根字母　不足四码加补码  
补码就是末根音　以下法则心里记  
鱼化ｖ来衣作ｉ　口补ｖ外无特例  
:::

| 末根补码 | 规则                     | 举例                      |
| :------- | :----------------------- | ------------------------- |
| v        | 频率最高的字根，补码为 v | `口`                      |
| v        | 读音为 ㄩ 的，补码为 v   | `鱼魚雨禺予 月曰`         |
| i        | 读音为 ㄧ 的，补码为 i   | `一乙已乂弋亦衤 言羊用夭` |

字根是有限的，因此本方案依旧是纯形方案，不是形音方案。

本方案**繁简通打**，其关键数据如下：

- 简体动态选重率 0.062%
- 繁体动态选重率 0.072%
- 繁简混合动态选重率 0.106%
- 全码速度当量 1.27，简码速度当量 1.28
- 单字平均双手互击率 65%，连续文本双手互击率 45%

详见[《常见输入法重码数据》](./statistics.md)

以下为本方案的字根图。有可能作为末根的生僻部首，图上标注其读音，以供参考：

[![yujoy](/yujoy.png)](/yujoy.png)

## 优缺点

本方案编码**乱序**，200多个字根在25键上随机出现，相比「光华」「星陈」两个方案，优缺点都十分突出，故总结如下：

### 缺点

- 初始学习难度较大，同键位字根之间的字形关系不强，难以进行相似字形联想记忆。
- 双根字全码为三码，对于大字集来说，静态重码较高。
- 双根字需要按空格，无法四码顶屏，因此拇指压力增大，不适合腱鞘炎患者（可以使用全码[整句模式](#整句模式)规避）。

### 优点

- 字形相近的部首在键盘上离散。因此，字根编码中可以包含更多信息，使得规则的复杂度较低。
- 编码随机分布，有利于分散双手互击，提高理论击键速度当量。
- 补码严格取字根读音，对于日常使用拼音或注音的人比较友好。

## 整句模式

卿云独有全码整句模式，用户在学习完全码单字后，可以像全拼一样进行输入，不需要按空格。未来也不需要记忆简码和词语。方案文件名为 yujoy_fluency.schema.yaml。

1. 输入时，直接输入每个字的**全码**，不需要在字中添加空格。完成输入一个整句后，可以按空格上屏。
2. 可以通过空格键输出简码和词语。简码和官方词库**不参与**成句，故而最长为四码。
3. yuhao/yuhao.private.dict.yaml 中的用户自定义词语**参与**成句，可以在整句模式下成句输出。
4. 生僻字不参与成句(script_translator)，因此不会出现输入过程中乱跳生僻字的情况。
5. 生僻字的顺序固定，不会因为曾经被用户选过，而排到常用字前。
6. 自动上屏候选区中靠前的字，使候选区的字不超过8个，防止窗口过长。该数字可在 yujoy_fluency.custom.yaml 中自定义。
7. 可以开启字符集过滤（Ctrl+Shift+O 或输入过程中按数字 0），只显示「繁简常用字」或「通规字」。
8. 可以开启三重注解功能（Ctrl+Shift+C 或输入过程中按斜杠 /）。
9. 可以使用 Z 键进行反查。

全码整句模式的优点和缺点有：

- 因为只输入全码单字，不需要额外记忆简码和词语。
- 不需要在三码和四码后犹豫是否要加空格。
- 大拇指的负担显著降低。
- 速度当降低，达到了1.2584。
- 准确性方面，本模式选重率低于打词，但高于简码单字派。
- 本模式不会出现打简码或打词时的踩空回删现象。
- 本模式允许用户在最短时间内以最小成本实现双盲打。
  因为单字全码输入的原故，其准确性很高，出现重码时也可以通过语句去重。  
  长期来看，本模式无法通过记忆换取额外确定性。  
  长期来看，本模式通过学习适应用户的用字用语习惯换取额外确定性。
- 码长大约在 3.2 左右，略高于简体优先简码派的 3.15。  
  低于繁简通打简码派的 3.25。 高于词派的 2.5 左右。  

## 学习路线

以下为本方案学习路线：

1. 使用[字根练习程序](../practice/root_joy.md)学习字根编码。
2. 使用[单字练习程序](../practice/char_joy.md)学习前1000高频字全码。
3. 使用[全码整句模式](#整句模式)在[跟打器](http://yupad.pages.dev/)录入文章并强化记忆。
4. 使用[全码整句模式](#整句模式)进行日常输入，按 Z 键反查拆分和编码。
5. 熟悉全码后，决定是否转用四码定长模式（学习简码和词语输入）。

## 对比

以下是本方案同「光华」「星陈」在各个维度上的大致对比：

| 特点                      | 光华 | 星陈 | 卿云 |
| :------------------------ | :--- | :--- | :--- |
| 使用最新版本宇浩拆分      | ✅    | ✅    | ✅    |
| 繁简通打低极选重率 (0.2%) | ✅    | ✅    | ✅    |
| 字根字重复小码            | ✅    | ✅    | ❌    |
| 两根字取首根小码          | ✅    | ✅    | ❌    |
| 大码使用 Z 键             | ❌    | ❌    | ❌    |
| 小码使用 Z 键             | ❌    | ✅    | ✅    |
| 相似字形字根同分区聚类    | ✅    | ❌    | ❌    |
| 相似字形字根同大码聚类    | ❌    | ✅    | ❌    |
| 小码 85% 使用拼音首字母   | ❌    | ✅    | ✅    |
| 小码 99% 使用拼音首字母   | ❌    | ❌    | ✅    |
| 双手互击率 60%            | ❌    | ✅    | ✅    |
| 严格优化键位分布          | ❌    | ✅    | ✅    |
| Z 键反查                  | ✅    | ✅    | ✅    |

## 作者

钱多多，为主要策划人、项目发起人、测试员、制图员、皮肤设计者、社区维护者。

forFudan，提供字根排布计算和技术支持。
